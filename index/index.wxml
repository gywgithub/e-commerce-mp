<view class="container">
  <view class="card flex-between">
    <view class="display-flex">
      <cover-image src="{{userInfo.avatarUrl}}"
        style="border:1px solid #eee;border-radius:50%;width:96rpx;height:96rpx;"></cover-image>
      <text style="line-height:96rpx;color:#7e7e7e;margin:0 20rpx;">{{userInfo.nickName}}</text>
    </view>
    <view style="width:200rpx;text-align:right;">
      <button size="mini" type="default" plain lang="zh_CN" open-type="getUserInfo" bindgetuserinfo="getUserInfo"
        wx:if="{{userInfo.avatarUrl === '/imgs/account_707070_81.png'}}"
        style="color: #7e7e7e;border:1px solid #ccc;font-size:1em;font-weight:400;margin-top:16rpx;">登录</button>
      <text wx:else style="color: #7e7e7e;line-height:96rpx;">{{ userInfo.province + '  ' + userInfo.city }}</text>
    </view>
  </view>
  <view class="card flex-between" bindtap="redirectToStorePage">
    <text>店铺信息</text>
    <text wx:if="{{shopInfo.name}}">{{shopInfo.name}}</text>
    <text wx:else>选择店铺 ></text>
  </view>

  <view wx:if="{{items.length > 0}}">
    <view wx:for="{{items}}" wx:key="index" class="card display-flex">
      <cover-image src="{{item.src}}" class="img"></cover-image>
      <view class="content">
        <view>{{item.title}}</view>
        <view class="artist-container">{{item.artist}}</view>
        <view class="flex-between">
          <view class="color-red"><text class="font-size-08">¥</text>{{item.price}}</view>
          <view class="display-flex">
            <button type="default" class="btn-option" data-index="{{index}}" bindtap="minusNum"
              wx:if="{{item.selectedNum > 0}}">-</button>
            <text class="text-num"
              wx:if="{{item.selectedNum > 0}}">{{ item.selectedNum > 0 ? item.selectedNum : null }}</text>
            <button type="default" class="btn-option" data-index="{{index}}" bindtap="plusNum">+</button>
          </view>
        </view>
      </view>
    </view>
    <view class="pay-container flex-between">
      <view class="line-height-120">总金额：<text class="font-size-08 color-red">¥</text><text
          class="color-red">{{total}}</text></view>
      <view class="width-200"><button type="primary" class="pay-btn" bindtap="pay">支付</button></view>
    </view>
  </view>
  <view wx:else style="margin-top: 80rpx; text-align:center; font-size:0.8em;color:#7e7e7e">
    暂无商品，请选择店铺
  </view>

</view>